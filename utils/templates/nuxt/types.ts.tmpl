// {{.Model}} Types

export interface {{.Model}} {
  // Primary Key
  id: number
{{range .Fields}}{{if not .IsRelation}}
  // {{.Name}} field
  {{if .IsMedia}}{{.MediaFKJSONName}}{{else}}{{.JSONName}}{{end}}: {{.TypeScriptType}}{{if .IsNullable}} | null{{end}}
{{else if eq .Relationship "belongs_to"}}
  // {{.Name}} - belongs_to relationship
  {{.JSONName}}: number
  {{.RelationObjectName}}?: {
    id: number
    {{.RelationDisplayField}}: string
  }
{{else if eq .Relationship "has_many"}}
  // {{.Name}} - has_many relationship
  {{.JSONName}}?: Array<{
    id: number
    [key: string]: any
  }>
{{else if eq .Relationship "many_to_many"}}
  // {{.Name}} - many_to_many relationship
  {{.JSONName}}?: Array<{
    id: number
    name?: string
    title?: string
    [key: string]: any
  }>
{{end}}{{end}}
  // Timestamps
  created_at: string
  updated_at: string
  deleted_at?: string | null
}

// Create/Update Input Types
export interface Create{{.Model}}Input {
{{range .Fields}}{{if not .IsRelation}}  {{if .IsMedia}}{{.MediaFKJSONName}}{{else}}{{.JSONName}}{{end}}{{if not .IsRequired}}?{{end}}: {{.TypeScriptType}}{{if .IsNullable}} | null{{end}}
{{else if eq .Relationship "belongs_to"}}  {{.JSONName}}{{if not .IsRequired}}?{{end}}: number
{{else if eq .Relationship "many_to_many"}}  {{.JSONName}}{{if not .IsRequired}}?{{end}}: number[]
{{end}}{{end}}}

export interface Update{{.Model}}Input extends Partial<Create{{.Model}}Input> {}

// Filter Input Type
export interface {{.Model}}FilterInput {
  search?: string
{{range .Fields}}{{if and .IsFilterable (not .IsRelation)}}  {{if .IsMedia}}{{.MediaFKJSONName}}{{else}}{{.JSONName}}{{end}}?: {{.TypeScriptType}}
{{else if and .IsFilterable (eq .Relationship "belongs_to")}}  {{.JSONName}}?: number
{{end}}{{end}}}

// Sort Input Type
export interface {{.Model}}SortInput {
  field: 'created_at' | 'updated_at'{{range .Fields}}{{if .IsSortable}} | '{{if .IsMedia}}{{.MediaFKJSONName}}{{else}}{{.JSONName}}{{end}}'{{end}}{{end}}
  order: 'asc' | 'desc'
}
